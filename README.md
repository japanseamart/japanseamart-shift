# シフト管理システム - 7店舗対応版

## プロジェクト概要
- **名前**: シフト管理システム
- **対象**: 鮮魚専門店（7店舗展開）
- **特徴**: 完全Webベース、リアルタイム管理、給与自動計算

## 🎯 主な機能

### ✅ 完全実装済み機能
- **7店舗対応**: 店舗間でのシフト管理・切り替え
- **30人従業員登録**: 個別時給設定、複数店舗担当可能
- **ガントチャート**: 30分間隔での視覚的スケジュール表示（4:00-23:00）
- **シフト入力・編集**: 最大10人同時勤務制限付き
- **給与計算**: 時給×勤務時間の自動計算・表示
- **従業員閲覧ページ**: 金額非表示の閲覧専用画面
- **シフト希望提出**: 午前・午後・夕方・夜・終日の時間区分対応
- **月間レポート**: 店舗別人件費集計・従業員別統計

### 📱 3つのユーザーインターフェース

#### 1. 管理者画面 (`/`)
- **ガントチャート表示**: 視覚的なシフト管理
- **従業員管理**: 追加・編集・時給設定・店舗割り当て
- **レポート機能**: 月間人件費・労働時間集計
- **店舗切り替え**: 7店舗間の簡単切り替え

#### 2. 従業員閲覧画面 (`/employee`)
- **個人シフト確認**: 月単位での自分のシフト表示
- **金額非表示**: 給与情報は一切表示されません
- **労働時間表示**: 勤務日数・総労働時間・平均時間
- **店舗情報**: 勤務店舗数・店舗名表示

#### 3. シフト希望提出画面 (`/request`)
- **希望提出**: 勤務希望・休み希望の提出
- **時間区分**: 午前/午後/夕方/夜/終日から選択
- **承認管理**: 提出済み希望の承認・却下機能
- **状況確認**: 審査中・承認・却下のステータス表示

## 📊 データ構造

### 店舗マスタ
```sql
stores: id, name, address, created_at
```
- 7店舗（本店、新橋店、銀座店、渋谷店、新宿店、池袋店、上野店）

### 従業員マスタ
```sql
employees: id, name, hourly_rate, store_ids[], created_at
```
- 最大30人登録可能
- 個別時給設定（例：1000円〜1400円）
- 複数店舗担当可能

### シフトデータ
```sql
shifts: id, employee_id, store_id, date, start_time, end_time, created_at
```
- 30分間隔（4:00, 4:30, 5:00...23:00, 23:30）
- 営業時間：AM4:00〜PM23:00（鮮魚業界対応）

### シフト希望データ
```sql
shift_requests: id, employee_id, store_id, date, time_period, request_type, status, created_at
```
- 時間区分：morning/afternoon/evening/night/allday
- 希望種別：work（勤務希望）/ off（休み希望）

## 🛠️ 技術スタック
- **フロントエンド**: Vue.js 3 + Tailwind CSS
- **バックエンド**: Hono (TypeScript)
- **プラットフォーム**: Cloudflare Pages + Workers
- **データベース**: メモリベース（本番時はCloudflare D1推奨）
- **UI**: FontAwesome Icons + レスポンシブデザイン

## 🌐 公開URL
- **管理者画面**: https://3000-ia5l8bc3o57y5kbppmkxu-6532622b.e2b.dev
- **従業員閲覧**: https://3000-ia5l8bc3o57y5kbppmkxu-6532622b.e2b.dev/employee  
- **シフト希望**: https://3000-ia5l8bc3o57y5kbppmkxu-6532622b.e2b.dev/request

## 💰 給与計算機能

### 自動計算
- **リアルタイム計算**: シフト入力時に予想給与表示
- **時間精度**: 30分単位での正確な計算
- **月間集計**: 従業員別・店舗別の月間給与集計

### レポート機能
- **総人件費**: 店舗別月間人件費
- **労働時間**: 従業員別・店舗別労働時間
- **従業員数**: アクティブ従業員数統計

## 🎨 ユーザビリティ

### ガントチャート表示
- **色分け表示**: 
  - 朝（4:00-11:00）: オレンジ
  - 昼（11:00-14:00）: 緑
  - 夕方（14:00-18:00）: 青
  - 夜（18:00-23:00）: 紫
- **クリック編集**: シフトバーをクリックして編集
- **重複チェック**: 同日最大10人制限

### レスポンシブデザイン
- **PC対応**: 大画面でのガントチャート表示
- **タブレット対応**: 中画面での操作性
- **モバイル対応**: 小画面でのメニュー折りたたみ

## 🔧 開発・運用

### ローカル開発
```bash
npm run build
npm run dev
```

### 本番デプロイ（Cloudflare Pages）
```bash
npm run build
npx wrangler pages deploy dist --project-name shift-manager
```

### PM2での運用
```bash
pm2 start ecosystem.config.cjs
pm2 logs shift-manager --nostream
pm2 restart shift-manager
```

## 📋 API エンドポイント

### 店舗管理
- `GET /api/stores` - 店舗一覧
- `POST /api/stores` - 店舗追加

### 従業員管理  
- `GET /api/employees` - 従業員一覧
- `POST /api/employees` - 従業員追加
- `PUT /api/employees/:id` - 従業員更新
- `DELETE /api/employees/:id` - 従業員削除

### シフト管理
- `GET /api/shifts` - シフト一覧（店舗・日付・従業員フィルタ）
- `POST /api/shifts` - シフト追加（10人制限チェック）
- `PUT /api/shifts/:id` - シフト更新
- `DELETE /api/shifts/:id` - シフト削除

### 給与・レポート
- `GET /api/salary/:employee_id/:month` - 従業員月間給与
- `GET /api/labor-cost/:store_id/:month` - 店舗月間人件費

### シフト希望
- `GET /api/shift-requests` - 希望一覧
- `POST /api/shift-requests` - 希望提出
- `PUT /api/shift-requests/:id` - 希望承認・却下

## 🚀 実装完了度

### ✅ 100%実装済み
- 7店舗対応システム
- 30人従業員登録
- ガントチャート（30分間隔、4:00-23:00）
- 給与自動計算
- 従業員閲覧ページ（金額非表示）
- シフト希望提出システム
- 月間レポート機能
- 最大10人同時勤務制限

### 🎯 鮮魚業界特化機能
- **早朝営業対応**: AM4:00開始
- **深夜営業対応**: PM23:00終了
- **30分間隔**: 細かな時間管理
- **複数店舗対応**: 従業員の店舗間移動

## 📞 運用サポート
- **開発者**: GenSpark AI Assistant
- **対象業界**: 鮮魚専門店・小売業
- **作成日**: 2025年1月17日
- **バージョン**: v1.0.0

## 💡 今後の拡張可能性
- Cloudflare D1データベース連携
- 従業員認証システム
- モバイルアプリ化
- 給与明細PDF生成
- 出勤管理連携

**完全動作確認済み - 即座に運用開始可能です！**